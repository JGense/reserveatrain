(this.webpackJsonpreserveatrain=this.webpackJsonpreserveatrain||[]).push([[0],{122:function(e,a,t){e.exports=t(153)},127:function(e,a,t){},151:function(e,a,t){},153:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(12),i=t.n(o),c=(t(127),t(10)),l=t(56),s=t(42),m=t(207),u=t(202),d=t(201),p=t(28),g=t.n(p),b=(t(7),t(55)),v=t(89),f=t(101),E=t(195),h=t(61),y=t.n(h),k=t(216),S=t(102),j=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}}));function x(e){var a=j();return r.a.createElement(E.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"90vh"},component:"main",className:a.root},r.a.createElement(E.a,{item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement(k.a,{className:a.avatar},r.a.createElement(y.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Woooooooops !"),r.a.createElement("h3",null,"You must be logged in to access this feature"))))}var O=t(217),w=t(209),N=t(100),D=t(19),J=t(208),I=t(212),L=t(91),C=t(197),B=t(92),F=t.n(B),W=Object(v.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary,backgroundColor:"whitesmoke",marginTop:e.spacing(2)},addBookBtn:{backgroundColor:"green"}}}));function T(e){var a=W();return e.journeysList.length>0?r.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"stretch"},e.journeysList.map((function(t,n){var o;return console.log(e.reduction),o=!1!==e.reduction?t.price/2:t.price,t.price=o,r.a.createElement(f.a,{item:!0,className:a.paper},r.a.createElement(E.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(S.a,{item:!0,component:"p"},t.departureStation," -> ",t.arrivalStation),r.a.createElement(S.a,{item:!0,component:"p"},t.departureDate," -> ",t.backDate),r.a.createElement(S.a,{item:!0,component:"p"},o),r.a.createElement(C.a,{size:"small","aria-label":"add",className:a.addBookBtn,onClick:function(){return function(e,a,t){if(console.dir(e),console.log(typeof a),"object"===typeof a)console.dir(a),a.push(e),localStorage.setItem("bookedJourneys",JSON.stringify(a)),t(a);else if("string"===typeof a){var n=JSON.parse(a);n.push(e),localStorage.setItem("bookedJourneys",JSON.stringify(n)),t(n)}}(t,e.bookedJourneys,e.setBookedJourneys)}},r.a.createElement(F.a,{style:{color:"white"}}))))}))):r.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(S.a,{item:!0,component:"h3"},"No journeys! Start your search now from the left panel!"))}var A=t(133);function G(e){var a,t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(A("https://ressources.data.sncf.com/api/records/1.0/search/?dataset=referentiel-gares-voyageurs&q=".concat(e)).catch((function(e){return console.log(e)})));case 2:return a=n.sent,n.next=5,g.a.awrap(a.json().catch((function(e){console.log(e)})));case 5:return t=n.sent,n.abrupt("return",t.records.map((function(e){return{id:e.recordid,libelle:e.fields.gare_alias_libelle_noncontraint}})));case 7:case"end":return n.stop()}}))}var H=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary,minHeight:"42vh"},bookingForm:{marginTop:e.spacing(3)},arrivalStation:{marginTop:e.spacing(1)},dateInputs:{marginTop:e.spacing(3)},submitBtn:{marginTop:e.spacing(3)}}}));function q(e){var a=H(),t=Object(n.useState)({departureStation:"",arrivalStation:""}),o=Object(c.a)(t,2),i=o[0],l=o[1],s=Object(n.useState)(new Date),m=Object(c.a)(s,2),u=m[0],p=m[1],v=Object(n.useState)(new Date),h=Object(c.a)(v,2),y=h[0],k=h[1],j=Object(n.useState)([]),C=Object(c.a)(j,2),B=C[0],F=C[1],W=Object(n.useState)([]),A=Object(c.a)(W,2),q=A[0],Y=A[1],P=Object(n.useState)([]),R=Object(c.a)(P,2),M=R[0],z=R[1],_=function(e){var a;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(G(e.target.value));case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:a=t.t0,F(a);case 7:case"end":return t.stop()}}))},K=function(e){var a;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(G(e.target.value));case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:a=t.t0,Y(a);case 7:case"end":return t.stop()}}))};return e.isLog?r.a.createElement(E.a,{container:!0,spacing:4,direction:"row",alignItems:"center",justify:"center",style:{minHeight:"90vh",margin:"0",width:"100%"}},r.a.createElement(E.a,{item:!0,xs:4},r.a.createElement(f.a,{className:a.paper},r.a.createElement(S.a,{component:"h3",variant:"h5"},"What is your journey?"),r.a.createElement("form",{className:a.bookingForm},r.a.createElement(O.a,{fullWidth:!0},r.a.createElement(I.a,{onChange:function(e,a){console.dir({depart:a}),l(null===a?Object(b.a)({},i,{departureStation:"value.libelle"}):Object(b.a)({},i,{departureStation:a.libelle}))},id:"combo-box-departure",options:B,getOptionLabel:function(e){return e.libelle},style:{width:"100%"},renderInput:function(e){return r.a.createElement(w.a,Object.assign({},e,{label:"Departure station",variant:"outlined",fullWidth:!0,onChange:_}))}}),r.a.createElement(I.a,{onChange:function(e,a){console.dir({arrivee:a}),l(null===a?Object(b.a)({},i,{arrivalStation:""}):Object(b.a)({},i,{arrivalStation:a.libelle}))},id:"combo-box-arrival",options:q,getOptionLabel:function(e){return e.libelle},style:{width:"100%",marginTop:"10px"},renderInput:function(e){return r.a.createElement(w.a,Object.assign({},e,{label:"Arrival station",variant:"outlined",fullWidth:!0,onChange:K}))}}),r.a.createElement(D.a,{utils:N.a},r.a.createElement(E.a,{container:!0,justify:"space-around",className:a.dateInputs},r.a.createElement(J.a,{margin:"normal",id:"date-picker-dialog",label:"Departure date",format:"dd/MM/yyyy",value:u,onChange:function(e){console.dir(e),p(e)},KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0}),r.a.createElement(J.a,{margin:"normal",id:"date-picker-dialog",label:"Arrival date",format:"dd/MM/yyyy",value:y,onChange:function(e){k(e)},KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0})))),r.a.createElement(d.a,{onClick:function(e){u.getDate(),u.getMonth(),u.getFullYear(),y.getDate(),y.getMonth(),y.getFullYear();var a=L.filter((function(e){return e.departureStation==i.departureStation&&e.arrivalStation==i.arrivalStation}));z(a),e.preventDefault()},fullWidth:!0,variant:"contained",color:"primary",className:a.submitBtn},"SEARCH")))),r.a.createElement(E.a,{item:!0,xs:4},r.a.createElement(f.a,{className:a.paper},r.a.createElement(T,{journeysList:M,reduction:e.reduction,bookedJourneys:e.bookedJourneys,setBookedJourneys:e.setBookedJourneys})))):r.a.createElement(x,null)}var Y=t(204),P=t(205),R=t(213),M=t(203),z=t(210),_=t(95),K=t.n(_),U=t(96),V=t.n(U),Q=t(215),X=t(214),Z=t(94),$=t.n(Z);function ee(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(M.a,{color:"inherit",href:"https://www.linkedin.com/in/jimmy-gense-98b5a8145/"},"Jimmy Gense")," ",(new Date).getFullYear(),".")}var ae=Object(v.a)((function(e){return{root:{height:"94vh"},image:{backgroundImage:"url(https://cdn.pixabay.com/photo/2016/03/05/23/02/blur-1239439_960_720.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"dark"===e.palette.type?e.palette.grey[900]:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function te(e){var a=ae(),t=Object(n.useState)(""),o=Object(c.a)(t,2),i=o[0],l=o[1],s=Object(n.useState)(""),m=Object(c.a)(s,2),u=m[0],p=m[1],b=Object(n.useState)(!1),v=Object(c.a)(b,2),h=v[0],y=v[1],j=function(e,a){"clickaway"!==a&&y(!1)};return e.isLog?r.a.createElement(E.a,{container:!0,component:"main",className:a.root},r.a.createElement(Y.a,null),r.a.createElement(E.a,{item:!0,xs:!1,sm:4,md:7,className:a.image}),r.a.createElement(E.a,{item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement(k.a,{className:a.avatar},r.a.createElement(V.a,null)),r.a.createElement(S.a,{"data-testid":"test-title",component:"h1",variant:"h5"},"Welcome"),r.a.createElement("h3",null,"You are already logged in ! Go booking now !"),r.a.createElement(z.a,{mt:5},r.a.createElement(ee,null))))):r.a.createElement(E.a,{container:!0,component:"main",className:a.root},r.a.createElement(Y.a,null),r.a.createElement(E.a,{item:!0,xs:!1,sm:4,md:7,className:a.image}),r.a.createElement(E.a,{item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement(k.a,{className:a.avatar},r.a.createElement(K.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(a){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),t=!1,n.prev=2,n.next=5,g.a.awrap($.a.post("https://reqres.in/api/login",{email:i,password:u},{headers:{"Content-Type":"application/json"}}));case 5:200===n.sent.status&&(t=!0),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),console.dir(n.t0),y(!0);case 13:t&&(localStorage.setItem("isLog","true"),e.setIsLog(!0));case 14:case"end":return n.stop()}}),null,null,[[2,9]])}},r.a.createElement(w.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,"data-testid":"input-email",id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return l(e.target.value)}}),r.a.createElement(w.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password","data-testid":"input-password",id:"password",autoComplete:"current-password",onChange:function(e){return p(e.target.value)}}),r.a.createElement(P.a,{control:r.a.createElement(R.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,"data-testid":"submit-login"},"Sign In"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(M.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(E.a,{item:!0},r.a.createElement(M.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement(z.a,{mt:5},r.a.createElement(ee,null))),r.a.createElement(Q.a,{open:h,autoHideDuration:6e3,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(X.a,{onClose:j,severity:"error"},"An error occurred during login")))))}var ne=t(2),re=t(211),oe=t(206),ie=t(97),ce=t.n(ie);function le(e){var a=e.children,t=e.value,n=e.index,o=Object(ne.a)(e,["children","value","index"]);return r.a.createElement(S.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),t===n&&r.a.createElement(z.a,{p:3},a))}function se(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var me=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{margin:e.spacing(4,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{backgroundColor:e.palette.secondary.main,width:e.spacing(7),height:e.spacing(7)},euroIcon:{width:e.spacing(7),height:e.spacing(7)},reductionInput:{margin:e.spacing(1),lineHeight:1.334},warningBooks:{color:"orange",marginTop:"-8px"}}}));function ue(e){var a=!1;if("object"===typeof e.bookedJourneys)a=e.bookedJourneys.length>0;else if("string"===typeof e.bookedJourneys){a=JSON.parse(e.bookedJourneys).length>0}var t=e.reduction;t||(t="");var o=me(),i=Object(n.useState)(0),l=Object(c.a)(i,2),s=l[0],m=l[1],u=Object(n.useState)(t),p=Object(c.a)(u,2),g=p[0],b=p[1];return e.isLog?r.a.createElement(E.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"90vh"},component:"main",className:o.root},r.a.createElement(E.a,{item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0},r.a.createElement(re.a,{value:s,onChange:function(e,a){m(a)},"aria-label":"simple tabs example"},r.a.createElement(oe.a,Object.assign({label:"Profile"},se(0))),r.a.createElement(oe.a,Object.assign({label:"Discount code"},se(1)))),r.a.createElement(le,{value:s,index:0},r.a.createElement("div",{className:o.paper},r.a.createElement(k.a,{className:o.avatar},r.a.createElement("img",{src:"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50"})),r.a.createElement(S.a,{component:"h1",variant:"h5"},"John DOE"),r.a.createElement("h4",null,'This is your profile. You can change your reduction code in the "Discount code" tab'))),r.a.createElement(le,{value:s,index:1},r.a.createElement("div",{className:o.paper,style:{marginBottom:"0px"}},r.a.createElement(k.a,{className:o.euroIcon},r.a.createElement(ce.a,null)),r.a.createElement(O.a,null,r.a.createElement(w.a,{value:g,id:"outlined-basic",label:"Reduction code",variant:"outlined",size:"small",className:o.reductionInput,disabled:a,onChange:function(e){b(e.target.value)}})),a&&r.a.createElement("p",{className:o.warningBooks},r.a.createElement("small",null,"You have booked journeys, so you cannot change your discount code")),!a&&r.a.createElement("div",null,r.a.createElement(d.a,{variant:"contained",onClick:function(){""===g?b(t):(e.setReduction(g),localStorage.setItem("reduction",g))}},"Change"),r.a.createElement(d.a,{variant:"contained",color:"secondary",onClick:function(){b(""),e.setReduction(!1),localStorage.removeItem("reduction")}},"Delete")),r.a.createElement("h4",null,"This is your discount code view. You can change it or add one if you don't have yet !"))))):r.a.createElement(x,null)}t(151);var de=t(98),pe=t.n(de),ge=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:"5px 5px",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},deleteBookBtn:{backgroundColor:"red"}}}));function be(e){var a=ge(),t=[];if("object"===typeof e.bookedJourneys)t=e.bookedJourneys;else if("string"===typeof e.bookedJourneys){t=JSON.parse(e.bookedJourneys)}return console.dir({reservationsList:t}),e.isLog?t.length>0?r.a.createElement(E.a,{container:!0,spacing:0,direction:"column",alignItems:"stretch",justify:"center",style:{minHeight:"90vh",width:"90%",margin:"auto"},component:"main",className:a.root},t.map((function(t,n){return r.a.createElement(f.a,{item:!0,className:a.paper,style:{marginTop:"4px"}},r.a.createElement(E.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(S.a,{item:!0,component:"p"},t.departureStation," -> ",t.arrivalStation),r.a.createElement(S.a,{item:!0,component:"p"},t.departureDate," -> ",t.backDate),r.a.createElement(S.a,{item:!0,component:"p"},t.price," \u20ac"),r.a.createElement(C.a,{size:"small","aria-label":"add",className:a.deleteBookBtn,onClick:function(){return function(e,a,t){if(console.dir(e),console.log(typeof a),"object"===typeof a){console.dir(a);var n=a.filter((function(a){return a.id!=e.id}));localStorage.setItem("bookedJourneys",JSON.stringify(n)),t(n)}else if("string"===typeof a){var r=JSON.parse(a).filter((function(a){return a.id!=e.id}));localStorage.setItem("bookedJourneys",JSON.stringify(r)),t(r)}}(t,e.bookedJourneys,e.setBookedJourneys)}},r.a.createElement(pe.a,{style:{color:"white"}}))))}))):r.a.createElement(E.a,{container:!0,spacing:0,direction:"row",alignItems:"center",justify:"center",style:{minHeight:"90vh"},component:"main",className:a.root},r.a.createElement(E.a,{item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement(k.a,{className:a.avatar},r.a.createElement(y.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Woooooooops !"),r.a.createElement("h3",null,"You haven't made reservations yet! Go booking!")))):r.a.createElement(x,null)}i.a.render(r.a.createElement((function(){var e=Object(n.useState)(localStorage.getItem("isLog")||!1),a=Object(c.a)(e,2),t=a[0],o=a[1],i=Object(n.useState)(localStorage.getItem("reduction")||!1),p=Object(c.a)(i,2),g=p[0],b=p[1],v=Object(n.useState)(localStorage.getItem("bookedJourneys")||[]),f=Object(c.a)(v,2),E=f[0],h=f[1];return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(m.a,{position:"static"},r.a.createElement(u.a,null,!t&&r.a.createElement(d.a,null,r.a.createElement(l.b,{className:"menu-button",to:"/"},"Home")),r.a.createElement(d.a,null,r.a.createElement(l.b,{className:"menu-button",to:"/booking"},"Booking")),r.a.createElement(d.a,null,r.a.createElement(l.b,{className:"menu-button",to:"/myreservations"},"Reservations")),r.a.createElement(d.a,null,r.a.createElement(l.b,{className:"menu-button",to:"/account"},"Account")),t&&r.a.createElement(d.a,{style:{color:"white",float:"right"},onClick:function(){console.log("disconnect"),localStorage.removeItem("isLog"),o(!1)}},"Logout"))),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(te,{setIsLog:o,isLog:t})),r.a.createElement(s.a,{exact:!0,path:"/booking"},r.a.createElement(q,{isLog:t,reduction:g,bookedJourneys:E,setBookedJourneys:h})),r.a.createElement(s.a,{exact:!0,path:"/myreservations"},r.a.createElement(be,{isLog:t,bookedJourneys:E,setBookedJourneys:h})),r.a.createElement(s.a,{exact:!0,path:"/account"},r.a.createElement(ue,{isLog:t,reduction:g,setReduction:b,bookedJourneys:E})))))}),null),document.getElementById("root"))},91:function(e){e.exports=JSON.parse('[{"id":1,"departureStation":"Lille Flandres","arrivalStation":"Paris Gare du Nord","departureDate":"29/01/2019","backDate":"02/02/2019","price":20},{"id":2,"departureStation":"Lille Flandres","arrivalStation":"Lyon","departureDate":"29/01/2019","backDate":"02/02/2019","price":20},{"id":3,"departureStation":"Lille Flandres","arrivalStation":"Marseille","departureDate":"29/01/2019","backDate":"02/02/2019","price":20},{"id":4,"departureStation":"Lille Flandres","arrivalStation":"Bordeaux","departureDate":"29/01/2019","backDate":"02/02/2019","price":20},{"id":5,"departureStation":"Lille Flandres","arrivalStation":"Dax","departureDate":"29/01/2019","backDate":"02/02/2019","price":20},{"id":6,"departureStation":"Lille Flandres","arrivalStation":"Angers","departureDate":"29/01/2019","backDate":"02/02/2019","price":20},{"id":7,"departureStation":"Lille Flandres","arrivalStation":"Avignon","departureDate":"29/01/2019","backDate":"02/02/2019","price":20},{"id":8,"departureStation":"Lille","arrivalStation":"Douai","departureDate":"29/01/2019","price":20},{"id":9,"departureStation":"Lille Flandres","arrivalStation":"Nice","departureDate":"29/01/2019","backDate":"02/02/2019","price":20},{"id":10,"departureStation":"Lille Flandres","arrivalStation":"Orly","departureDate":"29/01/2019","backDate":"02/02/2019","price":20},{"id":11,"departureStation":"Lille Flandres","arrivalStation":"Paris Gare du Nord","departureDate":"29/01/2019","backDate":"02/02/2019","price":20},{"id":12,"departureStation":"Lille Flandres","arrivalStation":"Paris Gare du Nord","departureDate":"29/01/2019","backDate":"02/02/2019","price":20}]')}},[[122,1,2]]]);
//# sourceMappingURL=main.580aaa55.chunk.js.map